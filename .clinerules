# Cline Rules - hinagiku-viewer

> **重要**: タスク開始時、`/workspace/memory-bank/` を読み込むこと。サブモジュール作業時は該当の `memory-bank/` も読み込む。

## ロール定義

Vue 3 + FastAPI のエキスパートエンジニア兼 UI/UX デザイナーとして対応する。

## コーディング規約

- Gitコミットメッセージ: 日本語
- コード中コメント: 日本語
- ログメッセージ: 日本語

## プロジェクト概要

Zipファイルで管理された書籍を一元管理・閲覧できるWebアプリケーション。

## プロジェクト構造

```
/workspace/
├── api/          # FastAPI バックエンド（Python 3.11+）
├── vue/          # Vue 3 + Vite フロントエンド（★主力）
├── web/          # Vue 2 フロントエンド（レガシー）
├── nuxt/         # Nuxt 3（移行実験・非推奨）
├── compose.yaml  # Docker Compose
└── memory-bank/  # プロジェクト全体のドキュメント
```

## 技術スタック

- **フロントエンド**: Vue 3 + Vite + Vuetify 3 + TypeScript + Pinia（pnpm）
- **バックエンド**: FastAPI + SQLAlchemy 2.0 + Alembic + PostgreSQL 16
- **認証**: JWT + OAuth2 Password Flow
- **デプロイ**: Docker Compose + Nginx

## フロントエンド方針

- `vue/`（Vue 3 + Vite）が主力。`web/`（Vue 2）はレガシー、`nuxt/`は非推奨。
- 新規APIクライアントは `openapi-fetch` を優先（既存Axiosは段階的移行）

## 既知の注意点

- 認証メソッドタイポ: `authenticaitonSuccessful`/`authenticaitonFail` — 互換性維持
- `API_VERSION = '3.0.0'` はハードコード
- DBカラムタイポ: `chached`/`is_shered` — マイグレーション済み
