# Active Context

## 現在の状態（2026-02-10）
- API: 本番稼働中（API_VERSION = '3.0.0'）
- Vue 3: 主要4ページ実装済み（書籍一覧、リーダー、ログイン、重複管理）
- リファクタリング完了: 命名規則統一、Pydanticエイリアス対応、関数名改善

## 最近の変更
- **2026/02/10**: コードレビュー実施、リファクタリング（フェーズ1,2,4,5完了）、タイポマイグレーション作成
- **2025/08/30**: テーブル名変更マイグレーション
- **2024/01/05**: お気に入り機能追加

## 優先課題

### セキュリティ（高）
- CORS `allow_origins=["*"]` → 環境変数で制限
- SECRET_KEY管理改善（開発時'DEV_KEY'固定）
- 管理者権限チェック追加（POST /api/users等）
- トークン有効期限短縮検討（30日→短縮+リフレッシュトークン）

### 機能（中）
- Vue 3未移植: ユーザー設定UI、管理者機能、一括編集完全性
- openapi-fetchへの段階的移行
- テストカバレッジ向上

### 技術的負債（低）
- 重複チェックO(n²)アルゴリズム改善
- ページネーションcount()最適化
- Vue 2廃止

## 未完了のリファクタリング
- フェーズ3: DBカラム名タイポ修正（chached→cached, is_shered→is_shared）— 破壊的変更のため慎重に
